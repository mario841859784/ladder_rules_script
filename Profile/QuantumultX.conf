// ==UserScript==
//QuantumultX é…ç½®
//ä½œè€…ï¼šCalm-er 
//æ›´æ–°æ—¥æœŸï¼š2023/12/27
//æ„Ÿè°¢ï¼š@ConnersHua,@Orz-3,@ddgksf2013
// ==/UserScript==


[general]
# > ç”¨äºèŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•
server_check_url=http://www.gstatic.com/generate_204
# ç½‘ç»œå»¶è¿Ÿæµ‹è¯•
network_check_url=http://captive.apple.com/generate_204
# > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout=3000
# > ç”¨äºè®¾ç½®å›¾æ ‡æ˜¾ç¤º
profile_img_url=https://avatars.githubusercontent.com/u/44333360?v=4
# > ç”¨äºCheckèŠ‚ç‚¹IPåœ°å€(ä»¥ä¸‹geo_location_checkerä»»é€‰ä¸€ä¸ªå³å¯)
;geo_location_checker=disabled 
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
# > åŠŸèƒ½å¼ºå¤§çš„è§£æå™¨ï¼Œç”¨äºå¼•ç”¨èµ„æºçš„è½¬æ¢
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# > ä¸‹åˆ—è·¯å¾„å°†ä¸ç»è¿‡QuanXçš„å¤„ç†
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
;fallback_udp_policy=direct
udp_whitelist=1-442, 444-65535
;udp_drop_list=443
# > ç¬¬ä¸€ä¸ªfilterä¸º4gæ¨¡å¼å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬äºŒä¸ªfilterä¸ºå…¶ä»–wifiä¸‹å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬ä¸‰ä¸ªwifi1ä¿®æ”¹æˆä½ è·¯ç”±å™¨ç¿»å¢™çš„wifiåå¼€å¯ç›´è¿æ¨¡å¼ï¼Œç¬¬å››ä¸ªwifi2ä¸ºä½ å…¬å¸æˆ–è€…å…¶ä»–æœ‰è·¯ç”±å™¨ç¿»å¢™çš„WiFiåèµ°ç›´è¿ï¼‰
# > é»˜è®¤å…³é—­æ ¹æ®wifiåˆ‡æ¢æ¨¡å¼ï¼Œå¦‚éœ€å¼€å¯ï¼Œåˆ é™¤ä¸‹æ–¹çš„";"å³å¯
;running_mode_trigger=filter, filter, Redmi AX9000 OpenWrt:all_direct
# ssid_suspended_listï¼Œè®© Quantumult X åœ¨ç‰¹å®š Wi-Fi ç½‘ç»œä¸‹æš‚åœå·¥ä½œ(ä»… task æ¨¡å—ä¼šç»§ç»­å·¥ä½œ)ï¼Œå¤šä¸ªWi-Fiç”¨â€œ,â€è¿æ¥
;ssid_suspended_list=Asus, Shawn-Wifi
# dns-exclusion-listä¸­çš„åŸŸåå°†ä¸ä½¿ç”¨fake-ipæ–¹å¼. å…¶å®ƒåŸŸååˆ™å…¨éƒ¨é‡‡ç”¨ fake-ip åŠè¿œç¨‹è§£æçš„æ¨¡å¼
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com
# > é»˜è®¤å½“ DNS å±‚é¢æŸdomain è¢«rejectæ—¶ï¼Œå°†è¿”å›loopback IPã€‚ä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‚æ•° ä¿®æ”¹æˆä¸º â€œno-error-no-answerâ€ï¼Œæˆ–è€… â€œnxdomainâ€
;dns_reject_domain_behavior=nxdomain


[dns]
;prefer-doh3
;doh-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query,https://cloudflare-dns.com/dns-query, https://dns.google/dns-query
# > QuantumultXå¼€å¯IPV6æ–¹æ³•ï¼Œåˆ å»ä¸‹é¢çš„ã€Œno-ipv6ã€ï¼Œåœ¨ã€ŒVPNã€æ ä¸­ï¼Œå¼€å¯ã€Œå…¼å®¹æ€§å¢å¼ºã€
no-ipv6
no-system
server=223.5.5.5
server=119.29.29.29
server=114.114.114.114
server=/*.icloud.com/119.29.29.29
server=/*.weixin.com/119.29.29.29
server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29
server=/update.googleapis.com/119.29.29.29
server=/*.dl.playstation.net/119.29.29.29
address=/mtalk.google.com/108.177.125.188
server=/www.miwifi.com/system
server=/miwifi.com/system
server=/tplogin.cn/system
server=/tplinklogin.net/system


[task_local]
25 7-12/1 * * * https://raw.githubusercontent.com/WowYiJiu/Personal/main/Script/qqMusic.js, tag=QQéŸ³ä¹ç­¾åˆ°, img-url=https://github.com/Amnesiash/ladder_rules_script/blob/main/Script/img/qqmusic.png?raw=true, enabled=true
0 7,11 * * * https://gist.githubusercontent.com/Sliverkiss/33800a98dcd029ba09f8b6fc6f0f5162/raw/aliyun.js, tag=é˜¿é‡Œäº‘ç›˜ç­¾åˆ°, img-url=https://github.com/Amnesiash/ladder_rules_script/blob/main/Script/img/aliyunpan.png?raw=true, enabled=true
30 10 * * * https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/tieba/tieba_signin.js, tag=ç™¾åº¦è´´å§ç­¾åˆ°, img-url=https://github.com/Amnesiash/ladder_rules_script/blob/main/Script/img/tieba.png?raw=true, enabled=true
5 10 * * * https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/smzdm/smzdm_daily.js, tag=ä»€ä¹ˆå€¼å¾—ä¹°ç­¾åˆ°, img-url=https://github.com/Amnesiash/ladder_rules_script/blob/main/Script/img/smzdm.png?raw=true, enabled=true
20 0 * * * https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/manmanbuy/manmanbuy_checkin.js, tag=æ…¢æ…¢ä¹°ç­¾åˆ°, img-url=https://github.com/blackmatrix7/ios_rule_script/blob/master/script/manmanbuy/manmanmai.png?raw=true, enabled=true
# > è¯·æ‰‹åŠ¨æ·»åŠ ä¸‹é¢çš„è®¢é˜…ï¼ˆæµåª’ä½“Taskè®¢é˜…é›†åˆï¼‰
; https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/UI-Action.json
# > æµåª’ä½“è§£é”æŸ¥è¯¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=æµåª’ä½“è§£é”æŸ¥è¯¢, img-url=arrowtriangle.right.square.system, enabled=true


[rewrite_local]

[rewrite_remote]
https://github.com/BiliUniverse/Enhanced/raw/main/modules/BiliBili.Enhanced.snippet, tag=å“”å“©å“”å“©åŠŸèƒ½å¢å¼º@VirgilClyne, update-interval=172800, opt-parser=false, enabled=true
https://github.com/BiliUniverse/ADBlock/raw/main/modules/BiliBili.ADBlock.snippet, tag=å“”å“©å“”å“©å»å¹¿å‘Š@VirgilClyne, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/StartUp.conf, tag=å¢¨é±¼å»å¼€å±2.0@ddgksf2013, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zheye/zheye.snippet, tag=çŸ¥ä¹å»å¹¿å‘Š@blackmatrix7, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/qidian.conf, tag=èµ·ç‚¹è¯»ä¹¦å»å¹¿å‘Š@app2smile, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/tieba-qx.conf, tag=ç™¾åº¦è´´å§å»å¹¿å‘Š@app2smile, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/YoutubeAds.conf, tag=æ²¹ç®¡å»å¹¿å‘Š@Maasea, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/Applet.conf, tag=å¾®ä¿¡å°ç¨‹åºå»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/Weibo.conf, tag=å¾®åšå»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Amap.conf, tag=é«˜å¾·åœ°å›¾å‡€åŒ–@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/Html/WebAdBlock.conf, tag=å½±è§†ç½‘ç«™å»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/Html/Douban.conf, tag=è±†ç“£ç½‘é¡µè§‚å½±å¿«æ·è·³è½¬@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/XiaoHongShu.conf, tag=å°çº¢ä¹¦å‡€åŒ–+å»æ°´å°@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/zZPiglet/Task/master/UnblockURLinWeChat.conf, tag=å¾®ä¿¡è§£é”è¢«å±è”½çš„URL@zZPiglet, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/Snippet/GoogleCAPTCHA.snippet, tag=Googleæœç´¢äººæœºéªŒè¯@NobyDa, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/QX.snippet, tag=Sub-Store, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=BoxJS, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Amnesiash/ladder_rules_script/main/Script/getcookies/getcookies_all.conf, tag=è·å–Cookiesåˆé›†, update-interval=172800, opt-parser=true, enabled=false

[server_local]


[server_remote]



[policy]
static=å…¨çƒåŠ é€Ÿ, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png
static=AIGC, proxy, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://github.com/Amnesiash/ladder_rules_script/blob/main/Gallery/Color/Openai.png?raw=true
static=å“”å“©å“”å“©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, direct, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Bili.png
static=å›½å¤–åª’ä½“, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Streaming.png
static=å…œåº•ç­–ç•¥, direct, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Final.png


#é»˜è®¤è®¾ç½®15åˆ†é’Ÿæµ‹é€Ÿä¸€æ¬¡ï¼Œå®¹å·® 20ms è¿›è¡Œåˆ‡æ¢
url-latency-benchmark=è‡ªåŠ¨é€‰æ‹©, server-tag-regex=^(.(?!(ğŸ†’)))*$, check-interval=900, tolerance=20, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
url-latency-benchmark=é¦™æ¸¯èŠ‚ç‚¹, server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=900, tolerance=20, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png
url-latency-benchmark=å°æ¹¾èŠ‚ç‚¹, server-tag-regex=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=900, tolerance=20, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png
url-latency-benchmark=æ—¥æœ¬èŠ‚ç‚¹, server-tag-regex=(?=.*(æ—¥æœ¬|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$, check-interval=900, tolerance=20, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png
url-latency-benchmark=éŸ©å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(éŸ©|éŸ“|æœ|KR|(?i)Korea))^((?!(æ¸¯|å°|æ—¥|æ–°|ç¾)).)*$, check-interval=900, tolerance=20, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/KR.png
url-latency-benchmark=ç‹®åŸèŠ‚ç‚¹, server-tag-regex=(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|å…°|ç¾)).)*$, check-interval=900, tolerance=20, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png
url-latency-benchmark=ç¾å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(ç¾|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, check-interval=900, tolerance=20, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png


[filter_remote]
https://github.com/Amnesiash/ladder_rules_script/raw/main/Rules/QuantumultX/Direct+.list, tag=ç›´è¿ä¿®æ­£, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://github.com/Amnesiash/ladder_rules_script/raw/main/Rules/QuantumultX/Proxy+.list, tag=ä»£ç†ä¿®æ­£, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=true, enabled=true
https://github.com/Amnesiash/ladder_rules_script/raw/main/Rules/QuantumultX/Reject.list, tag=å¹¿å‘Šæ‹¦æˆª, force-policy=reject, update-interval=172800, opt-parser=false, enabled=true
https://github.com/Amnesiash/ladder_rules_script/raw/main/Rules/QuantumultX/AI.list, tag=AI, force-policy=ç¾å›½èŠ‚ç‚¹, update-interval=172800, opt-parser=true, enabled=true
https://github.com/Amnesiash/ladder_rules_script/raw/main/Rules/QuantumultX/BiliBili.list, tag=å“”å“©å“”å“©, force-policy=å“”å“©å“”å“©, update-interval=172800, opt-parser=true, enabled=true
https://github.com/Amnesiash/ladder_rules_script/raw/main/Rules/QuantumultX/Streaming!CN.list, tag=å›½å¤–åª’ä½“, force-policy=å›½å¤–åª’ä½“, update-interval=172800, opt-parser=true, enabled=true
https://github.com/Amnesiash/ladder_rules_script/raw/main/Rules/QuantumultX/Proxy.list, tag=å…¨çƒåŠ é€Ÿ, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=true, enabled=true
https://github.com/Amnesiash/ladder_rules_script/raw/main/Rules/QuantumultX/LAN.list, tag=LAN, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://github.com/Amnesiash/ladder_rules_script/raw/main/Rules/QuantumultX/Direct.list, tag=å›½å†…ç½‘ç«™, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true


[filter_local]
host-suffix, ununetwork.top, å…¨çƒåŠ é€Ÿ
host, mirror.ghproxy.com, direct
geoip, cn, direct
final, å…œåº•ç­–ç•¥



[http_backend]

# > Boxjsè®¾ç½®ï¼Œæ”¹ä¸ºä½¿ç”¨http backendæ–¹å¼ï¼Œè®¿é—®åœ°å€æ”¹ä¸ºhttp://127.0.0.1:9999ï¼Œæ›´æ–°é…ç½®åè¯·é•¿æŒ‰é£è½¦-æ›´æ–°ï¼Œç„¶åé‡å¯ä»£ç†
# > BoxJsç›¸å…³æ•™ç¨‹å‚è€ƒ https://chavyleung.gitbook.io/boxjs/
https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, host=boxjs.com, tag=BoxJS, path=^/, enabled=false



[mitm]

skip_validating_cert = true
force_sni_domain_name = false

hostname = -consumer.fcbox.com, -*huami.com, -weather-data.apple.com, -*amemv.com, -*snssdk.com, -www.google.com
passphrase = 
p12 = 
# ğŸŸ¢ passphraseå’Œp12ä»£ä¸ºè¯ä¹¦&ä¸»æœºåéƒ¨åˆ†, æ›´æ–°é…ç½®å‰å¯æŠŠæ—§çš„é…ç½®ä¸­passphraseå’Œp12ä»£ç æ‹·è´ä¸‹æ¥, å¯¼å…¥æ–°çš„é…ç½®æ–‡ä»¶æŠŠå†…å®¹ç²˜è´´åœ¨å¯¹åº”ä½ç½®å°±ä¸ç”¨é‡è£…è¯ä¹¦